<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Panel del comercio</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>

<h1>ğŸª Panel del comercio</h1>

<h3>Agregar producto</h3>

<input id="nombre" type="text" placeholder="Nombre del producto"><br><br>
<input id="precio" type="number" placeholder="Precio"><br><br>
<input id="imagen" type="text" placeholder="Ruta de imagen (ej: img/productos/pizzeria_la12/pizza.jpg)"><br><br>

<button onclick="guardarProducto()">Guardar producto</button>

<hr>

<h3>Mis productos</h3>
<div id="lista-productos"></div>

<br>
<a href="../index.html">
  <button>Volver al inicio</button>
</a>

<script>
const comercio = "pizzeria_la12";
let productos = JSON.parse(localStorage.getItem(comercio)) || [];

function guardarProducto() {
  const nombre = document.getElementById("nombre").value;
  const precio = document.getElementById("precio").value;
  const imagen = document.getElementById("imagen").value;

  productos.push({ nombre, precio, imagen });
  localStorage.setItem(comercio, JSON.stringify(productos));

  mostrarProductos();
}

function mostrarProductos() {
  const contenedor = document.getElementById("lista-productos");
  contenedor.innerHTML = "";

  productos.forEach(p => {
    contenedor.innerHTML += `
      <div class="pedido">
        <p><strong>${p.nombre}</strong></p>
        <p>$${p.precio}</p>
        <img src="../${p.imagen}" width="120">
      </div>
      <hr>
    `;
  });
}

mostrarProductos();
</script>

</body>
</html>
