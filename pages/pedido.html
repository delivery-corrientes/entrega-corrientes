    carrito.forEach((item, index) => {
      total += item.precio * item.cantidad;

      contenedor.innerHTML += `
        <div class="producto">
          <p><strong>${item.nombre}</strong></p>
          <p>$${item.precio}</p>

          <label>Cantidad:</label>
          <input type="number" min="1" value="${item.cantidad}"
            onchange="cambiarCantidad(${index}, this.value)">

          <hr>
        </div>
      `;
    });

    document.getElementById("total").innerText = total;
    localStorage.setItem("total", total);
  }

  function cambiarCantidad(index, nuevaCantidad) {
    carrito[index].cantidad = Number(nuevaCantidad);
    localStorage.setItem("carrito", JSON.stringify(carrito));
    mostrarPedido();
  }

  function enviarPedido() {
    localStorage.setItem("pedido", JSON.stringify({
      direccion: direccion,
      productos: carrito,
      total: localStorage.getItem("total"),
      estado: "pendiente"
    }));
  }

  mostrarPedido();
</script>

</body>
</html>

