<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Historial de pedidos</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>

<h1>ðŸ“œ Historial de pedidos</h1>

<div id="historial"></div>

<br>

<a href="../index.html">
  <button>Volver al inicio</button>
</a>

<script>
let historial = JSON.parse(localStorage.getItem("historial_pedidos")) || [];
let contenedor = document.getElementById("historial");

if (historial.length === 0) {
  contenedor.innerHTML = "<p>No hay pedidos finalizados.</p>";
} else {
  historial.forEach((pedido, i) => {
    let html = `<h3>Pedido #${i + 1}</h3>`;

    pedido.productos.forEach(p => {
      html += `<p>${p.nombre} - $${p.precio}</p>`;
    });

    html += `<p><strong>Total:</strong> $${pedido.total}</p><hr>`;
    contenedor.innerHTML += html;
  });
}
</script>

</body>
</html>
