<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Comercio</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <h1>Pedidos recibidos</h1>

  <div id="pedido"></div>

  <h3>Alias del comercio</h3>
  <input id="aliasComercio" type="text" placeholder="Alias / CBU del comercio"
    style="width:80%; padding:12px; margin:10px;"><br>

  <button onclick="aceptarPedido()">Aceptar pedido</button>

  <br><br>
  <a href="index.html"><button>Volver</button></a>

  <script>
    const pedido = JSON.parse(localStorage.getItem("pedido"));
    const contenedor = document.getElementById("pedido");

    if (!pedido) {
      contenedor.innerHTML = "<p>No hay pedidos</p>";
    } else {
      contenedor.innerHTML = `
        <p><strong>Producto:</strong> ${pedido.producto}</p>
        <p><strong>Cantidad:</strong> ${pedido.cantidad}</p>
        <p><strong>Pago:</strong> ${pedido.pago}</p>
        <p><strong>Estado:</strong> ${pedido.estado}</p>
      `;
    }

    function aceptarPedido() {
      const alias = document.getElementById("aliasComercio").value;

      if (!alias) {
        alert("Ingres√° el alias del comercio");
        return;
      }

      pedido.aliasComercio = alias;
      pedido.estado = "ACEPTADO POR COMERCIO";

      localStorage.setItem("pedido", JSON.stringify(pedido));
      alert("Pedido aceptado. Esperando repartidor.");
      location.reload();
    }
  </script>

</body>
</html>